# 2D Fighter 项目总览

## 项目简介

2D Fighter 是一个联机对战的2D平台格斗游戏，采用客户端-服务器架构，支持多人在线实时对战。项目使用Unity引擎开发客户端，C#开发服务器端，通过KCP协议实现低延迟网络通信。

## 项目特点

- **联机对战**：支持多人在线实时PVP战斗
- **2D平台格斗**：经典的横版格斗游戏玩法
- **高性能网络**：基于KCP协议的低延迟网络传输
- **模块化架构**：采用LAT框架，清晰的模块划分和层次结构
- **热更新支持**：使用YooAsset实现资源热更新
- **配置驱动**：基于Luban的配置表系统

## 技术亮点

1. **自研LAT框架**：融合GameFramework、ET、Loxodon等框架设计思想的自研框架
2. **客户端预测+服务器验证**：保证网络游戏的流畅性和公平性
3. **对象池管理**：优化内存使用和性能
4. **事件驱动架构**：松耦合的模块通信机制
5. **状态机系统**：灵活的游戏状态和角色状态管理

## 项目结构

```
2d_Fighter/
├── Client/                 # Unity客户端项目
│   ├── Assets/            # 游戏资源和代码
│   │   ├── Scripts/       # 游戏脚本
│   │   │   ├── Core/      # 核心框架（平台无关）
│   │   │   ├── UnityCore/ # Unity相关框架
│   │   │   └── Gen/       # 自动生成的代码
│   │   └── ThirdParty/    # 第三方插件
│   ├── Packages/          # Unity包管理
│   └── ProjectSettings/   # Unity项目设置
├── Server/                # 服务器项目
│   └── LatServer/         # 服务器代码
│       ├── LatNet/        # 网络层（KCP实现）
│       ├── LatProtocol/   # 协议层
│       └── LatServer/     # 服务器逻辑
├── Protocal/              # 协议定义（Protobuf）
│   └── Proto/             # .proto文件
├── GenerateDatas/         # 生成的配置数据
├── Md/                    # 项目文档
│   ├── Core/              # 核心框架文档
│   ├── PublicLib/         # 公共库文档
│   └── images/            # 文档图片资源
├── Md_Imgs/               # 文档图片
└── Public/                # 公共资源
```

## 核心模块

### 客户端模块

- **Core**：核心框架（平台无关）
  - ObjectPool：对象池管理
  - EventSystem：事件系统
  - StateMachine：状态机
  - BinaryTools：二进制序列化工具
  - Utils：工具类集合

- **UnityCore**：Unity特定功能
  - Network：网络通信
  - Combat：战斗系统
  - UI：用户界面
  - Audio：音频系统
  - ResourceSystem：资源管理
  - SceneManagement：场景管理
  - Input：输入系统
  - Simulation：战斗模拟（用于回放等）

### 服务器模块

- **LatNet**：KCP网络层
  - 基于KCP的可靠UDP传输
  - 会话管理
  - 连接处理

- **LatProtocol**：协议层
  - Protobuf消息定义
  - 协议映射和管理
  - 消息处理器

- **LatServer**：业务逻辑层
  - 登录系统
  - 匹配系统
  - 战斗系统
  - 用户管理

## 开发团队与架构设计

本项目由Wangok123主导开发，采用自研的LAT（龙傲天）框架。框架设计吸收了多个优秀开源框架的设计理念：

- **GameFramework**：模块化设计、管理器模式
- **ET**：ECS架构思想、事件系统
- **Loxodon**：MVVM模式、数据绑定

## 开发环境要求

### 客户端
- Unity 2022.3 LTS 或更高版本
- .NET Standard 2.1
- 支持平台：Windows、macOS、Linux

### 服务器
- .NET 6.0 或更高版本
- 支持平台：Windows、Linux

## 相关文档

- [技术栈详解](02-技术栈.md)
- [客户端架构](03-客户端架构.md)
- [服务端架构](04-服务端架构.md)
- [网络通信协议](05-网络通信协议.md)
- [API文档](06-API文档.md)
- [开发指南](07-开发指南.md)
- [部署指南](08-部署指南.md)
- [LAT框架说明](LAT框架.md)

## 快速开始

1. **克隆项目**
   ```bash
   git clone https://github.com/Wangok123/2d_Fighter.git
   ```

2. **启动服务器**
   ```bash
   cd Server/LatServer/LatServer
   dotnet run
   ```

3. **打开Unity客户端**
   - 使用Unity Hub打开Client目录
   - 等待项目导入完成
   - 点击Play运行游戏

详细的开发和部署指南请参考[开发指南](07-开发指南.md)和[部署指南](08-部署指南.md)。

## 版本历史

- **v1.0**：基础框架搭建，核心战斗系统实现
- 持续开发中...

## 许可证

本项目为个人开发项目，具体许可证信息请查看项目根目录的LICENSE文件。

## 联系方式

- GitHub：[Wangok123](https://github.com/Wangok123)
- 项目地址：https://github.com/Wangok123/2d_Fighter
